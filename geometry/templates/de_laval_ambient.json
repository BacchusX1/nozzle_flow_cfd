{
  "name": "De Laval Nozzle + Ambient Volume",
  "description": "Classic converging-diverging De Laval nozzle (identical to de_laval.json) with large ambient volume for jet plume visualization. Ambient is 10x outlet diameter in height, 20x in length.",
  "type": "de_laval_ambient",
  "parameters": {
    "inlet_diameter": 0.6,
    "throat_diameter": 0.1,
    "outlet_diameter": 0.5,
    "inlet_section_length_factor": 1.5,
    "outlet_section_length_factor": 3.0,
    "ambient_height_factor": 10.0,
    "ambient_length_factor": 20.0
  },
  "elements": [
    {
      "type": "LineElement",
      "control_points": [
        [-0.45, 0.3],
        [0.0, 0.3]
      ],
      "boundary": "wall",
      "description": "Inlet section (1.5 * d_in) - upper wall"
    },
    {
      "type": "PolynomialElement",
      "control_points": [
        [0.0, 0.3],
        [0.3, 0.2],
        [0.5, 0.1]
      ],
      "boundary": "wall",
      "description": "Converging section - upper"
    },
    {
      "type": "PolynomialElement",
      "control_points": [
        [0.5, 0.1],
        [0.6, 0.05],
        [0.7, 0.05]
      ],
      "boundary": "wall",
      "description": "Throat section - upper"
    },
    {
      "type": "PolynomialElement",
      "control_points": [
        [0.7, 0.05],
        [1.0, 0.15],
        [1.3, 0.23]
      ],
      "boundary": "wall",
      "description": "Diverging section - upper"
    },
    {
      "type": "PolynomialElement",
      "control_points": [
        [1.3, 0.23],
        [1.5, 0.25],
        [1.7, 0.25]
      ],
      "boundary": "wall",
      "description": "Transition section (smooth blend) - upper"
    },
    {
      "type": "LineElement",
      "control_points": [
        [1.7, 0.25],
        [3.0, 0.25]
      ],
      "boundary": "wall",
      "description": "Outlet section (3 * d_out) - upper wall"
    },
    {
      "type": "LineElement",
      "control_points": [
        [3.0, 0.25],
        [3.0, 2.5]
      ],
      "boundary": "wall",
      "description": "Nozzle exit lip - upper (step into ambient)"
    },
    {
      "type": "LineElement",
      "control_points": [
        [3.0, 2.5],
        [13.0, 2.5]
      ],
      "boundary": "wall",
      "description": "Top wall of ambient box"
    },
    {
      "type": "LineElement",
      "control_points": [
        [13.0, 2.5],
        [13.0, -2.5]
      ],
      "boundary": "outlet",
      "description": "Right boundary of ambient box (outlet to far-field)"
    },
    {
      "type": "LineElement",
      "control_points": [
        [13.0, -2.5],
        [3.0, -2.5]
      ],
      "boundary": "wall",
      "description": "Bottom wall of ambient box"
    },
    {
      "type": "LineElement",
      "control_points": [
        [3.0, -2.5],
        [3.0, -0.25]
      ],
      "boundary": "wall",
      "description": "Nozzle exit lip - lower (step into ambient)"
    },
    {
      "type": "LineElement",
      "control_points": [
        [3.0, -0.25],
        [1.7, -0.25]
      ],
      "boundary": "wall",
      "description": "Outlet section (3 * d_out) - lower wall"
    },
    {
      "type": "PolynomialElement",
      "control_points": [
        [1.7, -0.25],
        [1.5, -0.25],
        [1.3, -0.23]
      ],
      "boundary": "wall",
      "description": "Transition section - lower (reversed)"
    },
    {
      "type": "PolynomialElement",
      "control_points": [
        [1.3, -0.23],
        [1.0, -0.15],
        [0.7, -0.05]
      ],
      "boundary": "wall",
      "description": "Diverging section - lower (reversed)"
    },
    {
      "type": "PolynomialElement",
      "control_points": [
        [0.7, -0.05],
        [0.6, -0.05],
        [0.5, -0.1]
      ],
      "boundary": "wall",
      "description": "Throat section - lower (reversed)"
    },
    {
      "type": "PolynomialElement",
      "control_points": [
        [0.5, -0.1],
        [0.3, -0.2],
        [0.0, -0.3]
      ],
      "boundary": "wall",
      "description": "Converging section - lower (reversed)"
    },
    {
      "type": "LineElement",
      "control_points": [
        [0.0, -0.3],
        [-0.45, -0.3]
      ],
      "boundary": "wall",
      "description": "Inlet section - lower wall"
    },
    {
      "type": "LineElement",
      "control_points": [
        [-0.45, -0.3],
        [-0.45, 0.3]
      ],
      "boundary": "inlet",
      "description": "Inlet boundary (left face)"
    }
  ],
  "boundaries": {
    "inlet": {
      "type": "inlet",
      "description": "Nozzle inlet - total pressure/temperature specified"
    },
    "outlet": {
      "type": "outlet",
      "description": "Far-field outlet - static pressure (atmospheric)"
    },
    "wall": {
      "type": "wall",
      "description": "Solid walls - no-slip adiabatic (nozzle walls + ambient box top/bottom)"
    }
  },
  "flow_conditions": {
    "inlet_total_pressure": 500000,
    "inlet_total_temperature": 300,
    "outlet_static_pressure": 50000,
    "design_mach": 2.0,
    "note": "Pressure ratio ~10:1 for fully supersonic expansion into ambient"
  },
  "mesh_settings": {
    "element_size": 0.02,
    "boundary_layers": true,
    "bl_thickness": 0.001,
    "bl_layers": 8,
    "refinement_zones": ["throat", "nozzle_exit", "jet_core"],
    "note": "Fine mesh in nozzle and near-field plume. Coarser mesh in far-field ambient."
  },
  "expected_physics": {
    "description": "Supersonic jet exhausting from de Laval nozzle into large ambient region. The step at nozzle exit creates sudden expansion where jet adjusts to ambient pressure.",
    "mach_at_throat": 1.0,
    "mach_at_nozzle_exit": "~2.0",
    "features": [
      "Choked flow at throat (M=1)",
      "Smooth supersonic acceleration in divergent section",
      "Jet exhausting into quiescent ambient",
      "Shock diamonds or expansion fans in plume",
      "Shear layer development between jet and ambient",
      "Large ambient allows full jet development"
    ]
  }
}
